# 1. 정책

## 증정품 정책

1. 할인 전 총주문 금액이 12만원 이상일 때, 샴페인 1개를 증정한다.
2. 총 혜택 금액(할인금액의 합계 + 증정메뉴의 가격)에 따라 이벤트 배지를 부여한다.
   - 5천원 이상 : 별
   - 1만원 이상 : 트리
   - 2만원 이상 : 산타

## 할인 정책

### "디데이 할인"

1. 기간은 23.12.1 ~ 23.12.25 이다.
2. 할인은 정가제 (금액할인) 이다.
3. 12월 1일에 1000원으로 시작해서, 25일까지 100원씩 증가한다. (ex 12.1 == 1000 ... 12.25 == 3400 (2400원 추가된 금액) )

### 요일별 할인
1. 일요일 ~ 목요일 : 디저트 메뉴 할인 - 개당 2023 원
2. 금요일, 토요일 : 메인 메뉴 할인 - 개당 2023 원
3. 특별 할인 : 매주 일요일 + 25일은 총주문 금액에서 1000원 할인

## 이벤트 주의 사항
1. 총주문 금액 10000원 이상부터 할인이 적용된다
2. 음료만 주문은 불가능하다.
3. 메뉴는 한번에 20개까지만 주문할 수 있다.
4. __중복된 할인과 증정을 허용한다.__

---

### 메뉴 테이블
```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

---

# 예상 플로우

## 고객이 식당에 방문하기 전 

### 1. 고객이 식당에 방문할 날짜를 선택한다.

> 메시지
```
 안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
```

### 구현 세부 사항 

```
- 12.1 ~ 12.25 일 중 방문하면, 1000 + { (현재날짜 - 1) * 100 } 만큼의 혜택을 제공한다.
     - ex : 23일 방문 : 1000 + { (23 - 1) * 100} = 3200
- 날짜를 입력하면 요일을 계산해야 한다.
     - 일 ~ 목 : [디저트] 메뉴를 개당 2023 원 할인
     - 금,토 : [메인] 메뉴를 개당 2023 원 할인
     - 매주 일요일 + 25일 : 총 주문 금액에서 1000원 할인
 ```

> 예외처리
- 입력은 숫자만 허용한다.
- 방문 가능한 날짜는 1 ~ 31 이다.
- 예외 메시지는 "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."


### 2. 고객은 주문할 메뉴와 개수를 선택한다.

> 메시지
```
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
```

### 구현 세부 사항

```
- 메뉴 카테고리별 (ex : 디저트, 메인...) 할인이 가능해야 한다.
- 증정 메뉴 (샴페인) 은 예상 결제 금액에서 차감하지 않는다. (총혜택금액 에는 추가한다)
- 따라서 총 혜택 금액은 두 개의 항목이어야 한다. 1. 할인 금액 총합 2. __증정 여부__에 따라 -= 25000
- 위의 총 혜택 금액에 따라 배지를 부여한다.
     - 5천원 이상 : 별
     - 1만원 이상 : 트리
     - 2만원 이상 : 산타
```

> 예외처리
- 메뉴판에 없는 메뉴를 입력해선 안된다.
- 메뉴의 개수는 1 이상이어야 한다.
- 주문 메뉴의 총합은 20개 이하여야 한다
- 메뉴 형식은 예시와 같아야 한다. (예시 : 시저샐러드-1, 해산물파스타-2 ...)
- 중복된 메뉴는 주문해선 안된다.
- 예외 메시지는 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."


### 3. 이벤트 플래너(시스템)은 고객의 입력을 바탕으로 혜택 적용 내용을 출력한다. 

> 출력 목록
- 주문 메뉴
- 할인 전 총 주문 금액
- 증정 메뉴
- 혜택 내역
- 총 혜택 금액(할인금액의 합계 + 증정메뉴의 가격)
- 할인 후 예상 결제 금액
- 12월 이벤트 배지 내용

### 구현 세부사항

```
- 주문 메뉴 출력 순서는 자유다.
- 총 혜택 금액(할인금액의 합계 + 증정메뉴의 가격)에 따라 이벤트 배지의 이름을 다르게 보여준다
- "할인 후 예상 결제 금액" 은 (할인 전 총주문 금액 - 할인 금액)
- 증정 메뉴, 이벤트 내역, 혜택 내역 등이 없다면 "없음" 으로 보여준다.
- __금액류(총혜택금액, 예상결제금액 등...)__ 는 x원 (ex : 0원) 으로 출력한다.
- 여러 개의 이벤트가 적용되었다면, 출력 순서는 자유이다.
```

> 메시지 예시

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총 혜택 금액(할인금액의 합계 + 증정메뉴의 가격)>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```



---

# 구현 후 정리

# 0. 주문 공통 조건(제약)

### 1. 총주문 금액 10,000원 이상부터 할인이 적용된다.
### 2. 음료만 주문은 불가능하다.
### 3. 메뉴는 한번에 20개까지만 주문 가능하다.

# 1. 할인 정책

## 1. 총 주문에 대한 할인

1. D-DAY 할인
- 기간은 23.12.1 ~ 23.12.25 이다.
- 할인은 정가제 (금액할인) 이다.
- 12월 1일에 1000원으로 시작해서, 25일까지 100원씩 증가한다. (ex 12.1 == 1000 ... 12.25 == 3400 (2400원 추가된 금액) )

2. 특별 할인 (별이 찍힌 날)
- 별이 찍힌 날은 매주 일요일 + 25일 이다.
- 1000원 할인한다.

## 2. 메뉴 별 할인

> 메뉴 테이블

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```


1. 요일별 할인
   - 일요일 ~ 목요일 : 디저트 메뉴 할인 - 개당 2023 원
   - 금요일, 토요일 : 메인 메뉴 할인 - 개당 2023 원

# 2. 증정 정책

## 1. 총 주문금액에 대한 증정

1. 음료 증정
   - 샴페인(25,000원) 증정 : 총 주문금액(메뉴 원래 금액의 총합) 120,000 원 이상 주문시

## 2. 총 혜택금액(할인금액 + 증정품 가격)에 대한 증정

1. 뱃지 증정
- 없음 (0~5,000원)
- 별 (5,000~9,999원)
- 트리 (10,000~19,999원)
- 산타 (20,000원 이상)

# 예외처리

## 1. 날짜에 대한 예외처리

- 숫자만 입력 가능하다.
- 12월 날짜(1~31) 사이의 범위만 유효하다.

### 예외메시지
```java
"[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."
```

## 2. 주문에 대한 예외처리

- 주문품목 - 숫자 의 형식으로 입력한다. (ex : 바베큐립-1) -> 따라서 "-"는 무조건 포함되어 있어야 한다.(한 주문당)
- 주문품목 및 숫자 부분에서 입력된 공백은 시스템측에서 전부 제거한다. (ex : 바 베 큐 립 - 1 == 바베큐립-1)
- 메뉴의 갯수(quantity)는 20개를 넘을 수 없다.
- 여러 개를 주문 할 땐 "," 로 구분한다.
- 여러 개의 주문에 대해서도, 입력된 공백은 시스템측에서 전부 제거한다.(ex : foo-1,     바베큐립-1 == foo-1,바베큐립-1)
- 모든 주문의 메뉴가 전부 음료여서는 안된다.(음료만 주문할 수 없다.)

### 예외메시지

```java
"[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
```

# 출력부 세부사항

> 출력부 세부사항은 아래 예시를 맞춰 구현한다.

> 출력부 예시 - 정상 케이스

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총 혜택 금액(할인금액의 합계 + 증정메뉴의 가격)>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```

> 출력부 예시 - 혜택이 없는 경우

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
26 
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
타파스-1,제로콜라-1 
12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
타파스 1개
제로콜라 1개

<할인 전 총주문 금액>
8,500원
 
<증정 메뉴>
없음
 
<혜택 내역>
없음
 
<총혜택 금액>
0원
 
<할인 후 예상 결제 금액>
8,500원
 
<12월 이벤트 배지>
없음
```